<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Software Quick Check</title>
<link rel="stylesheet" href="../../css/main.css" />

</head>

<body>
<main>

<h1>üíª Software ‚Äì Systems & Operating Systems</h1>

<!-- ================= MCQ ================= -->

<div class="section">
<h2>MCQ (5)</h2>
<div id="mcq"></div>
</div>

<!-- ================= FILL GAPS ================= -->

<div class="section">
<h2>Fill in the Gaps (5)</h2>

<p>Systems software controls the <select id="gap1"></select> and provides an interface between hardware and software.</p>

<p>An operating system provides a <select id="gap2"></select> for the user.</p>

<p>Memory management moves data between RAM and <select id="gap3"></select>.</p>

<p>Process scheduling uses <select id="gap4"></select> to allocate CPU time.</p>

<p>An audit trail records changes made to software in <select id="gap5"></select> order.</p>

<div class="wordbank" id="wordbank"></div>
<div id="gapFeedback"></div>

</div>

<!-- ================= EXPLAIN ================= -->

<div class="section">
<h2>Explain (2)</h2>
<p>Explain why process scheduling is needed in a multitasking operating system.</p>
<textarea id="explain" rows="4" cols="60"></textarea>
<div id="explainFeedback"></div>
</div>

<button onclick="markQuiz()">Mark</button>
<div class="score" id="scoreDisplay"></div>

</main>

<script>

/* ================= MCQ DATA ================= */

const mcqData = [
{
q:"1. What is systems software?",
o:[
"Software that maintains and controls hardware",
"Software used to create documents",
"Software used for entertainment"
],
a:"Software that maintains and controls hardware"
},
{
q:"2. Which is an example of application software?",
o:[
"Word processing software",
"Operating system",
"Device driver"
],
a:"Word processing software"
},
{
q:"3. What does the operating system manage?",
o:[
"Only the CPU",
"Hardware and software resources",
"Only application software"
],
a:"Hardware and software resources"
},
{
q:"4. Which function allows users to log in?",
o:[
"User management",
"Memory management",
"File compression"
],
a:"User management"
},
{
q:"5. What does a device driver do?",
o:[
"Controls a peripheral device",
"Stores data permanently",
"Deletes files automatically"
],
a:"Controls a peripheral device"
}
];

/* ================= WORD BANK ================= */

const wordBank = [
"hardware",
"user interface",
"virtual memory",
"time slices",
"chronological"
];

/* ================= GENERATE MCQ ================= */

let html="";
mcqData.forEach((m,i)=>{
html+=`<p>${m.q}</p>`;
m.o.forEach(opt=>{
html+=`<label><input type="radio" name="mcq${i}" value="${opt}">${opt}</label><br>`;
});
html+=`<div id="f${i}"></div><hr>`;
});
document.getElementById("mcq").innerHTML=html;

/* ================= WORD BANK ================= */

function populateDropdown(id){
  const select=document.getElementById(id);
  select.innerHTML="<option value=''>Select</option>";
  wordBank.forEach(word=>{
    select.innerHTML+=`<option value="${word}">${word}</option>`;
  });
}

["gap1","gap2","gap3","gap4","gap5"].forEach(populateDropdown);

document.getElementById("wordbank").innerHTML=
wordBank.map(w=>`<span>${w}</span>`).join("");

/* ================= MARKING ================= */

function markQuiz(){

let score=0;

/* ---- MCQ ---- */
mcqData.forEach((m,i)=>{
let sel=document.querySelector(`input[name="mcq${i}"]:checked`)?.value;
let fb=document.getElementById(`f${i}`);
if(sel===m.a){score++;fb.innerHTML="‚úîÔ∏è Correct";fb.className="correct";}
else{fb.innerHTML=`‚ùå Answer: ${m.a}`;fb.className="incorrect";}
});

/* ---- GAPS ---- */

const gapAnswers={
gap1:"hardware",
gap2:"user interface",
gap3:"virtual memory",
gap4:"time slices",
gap5:"chronological"
};

for(let g in gapAnswers){
let val=document.getElementById(g).value;
if(val===gapAnswers[g]) score++;
}

document.getElementById("gapFeedback").innerHTML="‚úîÔ∏è Gaps marked.";

/* ---- EXPLAIN (2 MARKS) ---- */

let text=document.getElementById("explain").value.toLowerCase();
let marks=0;

if(text.includes("multiple") || text.includes("more than one")) marks++;
if(text.includes("time slice") || text.includes("cpu time") || text.includes("switching")) marks++;

score+=marks;

document.getElementById("explainFeedback").innerHTML=
marks===2?"‚úîÔ∏è 2/2":
marks===1?"‚úîÔ∏è 1/2":
"‚ùå 0/2 ‚Äì It allows multiple applications to run by allocating CPU time.";

document.getElementById("scoreDisplay").innerHTML=`Score: ${score}/12`;

}

</script>

</body>
</html>