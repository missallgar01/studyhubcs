<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Variables Demo</title>

<style>
body{
  background:#111;
  font-family:Arial;
  color:white;
  text-align:center;
}

h1{ margin-top:20px; }

.memory{
  margin:40px auto;
  width:300px;
  border:3px solid white;
  border-radius:10px;
  padding:20px;
  background:#222;
}

.varName{
  font-size:20px;
  color:#aaa;
}

.varValue{
  font-size:40px;
  margin-top:10px;
  color:#2ecc71;
}

.highlight{
  background:#3498db;
  transition:0.3s;
}

.controls{
  margin-top:20px;
}

input{
  padding:6px;
  width:120px;
  margin:5px;
}

button{
  padding:6px 12px;
  margin:5px;
}

.panel{
  margin-top:30px;
  width:700px;
  margin-left:auto;
  margin-right:auto;
  background:#1a1a1a;
  padding:15px;
  border-radius:10px;
  text-align:left;
}

.python{
  margin-top:10px;
  background:#000;
  padding:12px;
  font-family:Consolas, monospace;
  white-space:pre;
  color:#2ecc71;
  border-radius:6px;
}

</style>
</head>
<body>

<h1>Variables Demo</h1>

<div class="memory" id="memoryBox">
  <div class="varName" id="varName">variable</div>
  <div class="varValue" id="varValue">None</div>
</div>

<div class="controls">
  Variable Name: <input type="text" id="nameInput">
  Value: <input type="text" id="valueInput">
  <br>
  <button onclick="createVariable()">Create</button>
  <button onclick="updateVariable()">Update</button>
  <button onclick="addFive()">Add 5</button>
</div>

<div class="panel">
  <div id="explanation"></div>
  <div class="python" id="pythonCode"></div>
</div>

<script>

let currentName = "";
let currentValue = null;

/* ================= Create Variable ================= */

function createVariable(){

  currentName = document.getElementById("nameInput").value;
  currentValue = document.getElementById("valueInput").value;

  document.getElementById("varName").innerText = currentName;
  document.getElementById("varValue").innerText = currentValue;

  flashMemory();

  document.getElementById("explanation").innerText =
    "A variable stores a value in memory.";

  document.getElementById("pythonCode").innerText =
currentName + " = " + formatValue(currentValue);
}

/* ================= Update Variable ================= */

function updateVariable(){

  currentValue = document.getElementById("valueInput").value;
  document.getElementById("varValue").innerText = currentValue;

  flashMemory();

  document.getElementById("explanation").innerText =
    "The variable now stores a new value (reassignment).";

  document.getElementById("pythonCode").innerText =
currentName + " = " + formatValue(currentValue);
}

/* ================= Add 5 ================= */

function addFive(){

  if(!isNaN(currentValue)){
    currentValue = Number(currentValue) + 5;
    document.getElementById("varValue").innerText = currentValue;

    flashMemory();

    document.getElementById("explanation").innerText =
      "We performed arithmetic on the variable.";

    document.getElementById("pythonCode").innerText =
currentName + " = " + currentName + " + 5";
  }
  else{
    document.getElementById("explanation").innerText =
      "Addition only works on numeric values.";
  }
}

/* ================= Helper ================= */

function flashMemory(){
  const box = document.getElementById("memoryBox");
  box.classList.add("highlight");
  setTimeout(()=>box.classList.remove("highlight"),400);
}

function formatValue(val){
  if(isNaN(val)){
    return '"' + val + '"';
  }
  return val;
}

</script>

</body>
</html>