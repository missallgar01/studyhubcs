<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Array Demo</title>

<style>
body{
  background:#111;
  font-family:Arial;
  color:white;
  text-align:center;
}

h1{ margin-top:20px; }

.array{
  display:flex;
  justify-content:center;
  margin:40px 0;
  flex-wrap:wrap;
}

.cell{
  width:80px;
  height:80px;
  border:2px solid white;
  margin:5px;
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:20px;
  background:#222;
  transition:0.3s;
}

.index{
  position:absolute;
  bottom:-22px;
  font-size:14px;
  color:#aaa;
}

.highlight{ background:#3498db; }
.found{ background:#2ecc71; }

.controls{ margin-top:20px; }

input{
  padding:6px;
  width:80px;
  margin:5px;
}

button{
  padding:6px 12px;
  margin:5px;
}

.panel{
  margin-top:30px;
  width:700px;
  margin-left:auto;
  margin-right:auto;
  background:#1a1a1a;
  padding:15px;
  border-radius:10px;
  text-align:left;
}

.python{
  margin-top:10px;
  background:#000;
  padding:12px;
  font-family:Consolas, monospace;
  white-space:pre;   /* Enforces indentation */
  color:#2ecc71;
  border-radius:6px;
}

</style>
</head>
<body>

<h1>Array Demo</h1>

<div class="array" id="array"></div>

<div class="controls">
  Index: <input type="number" id="indexInput" min="0">
  Value: <input type="text" id="valueInput">
  <br>
  <button onclick="setValue()">Set</button>
  <button onclick="getValue()">Get</button>
  <button onclick="appendValue()">Append</button>
  <button onclick="getLength()">Length</button>
  <button onclick="traverse()">Traverse</button>
  <button onclick="linearSearch()">Linear Search</button>
  <button onclick="resetArray()">Reset</button>
</div>

<div class="panel">
  <div id="explanation"></div>
  <div class="python" id="pythonCode"></div>
</div>

<script>

let arr = ["A","B","C","D","E"];
const arrayDiv = document.getElementById("array");

/* ================= Render ================= */

function renderArray(){
  arrayDiv.innerHTML="";
  arr.forEach((value,index)=>{
    const cell=document.createElement("div");
    cell.className="cell";
    cell.innerText=value;

    const indexLabel=document.createElement("div");
    indexLabel.className="index";
    indexLabel.innerText=index;

    cell.appendChild(indexLabel);
    arrayDiv.appendChild(cell);
  });
}

/* ================= Initial Python ================= */

function showInitialPython(){
  document.getElementById("pythonCode").innerText =
"array = [\"A\", \"B\", \"C\", \"D\", \"E\"]";

  document.getElementById("explanation").innerText =
    "This Python line creates (stores) an array with 5 elements.";
}

/* ================= Set ================= */

function setValue(){
  const index=parseInt(document.getElementById("indexInput").value);
  const value=document.getElementById("valueInput").value;

  if(index>=0 && index<arr.length){
    arr[index]=value;
    renderArray();

    document.getElementById("explanation").innerText =
      "We updated the value at a specific index.";

    document.getElementById("pythonCode").innerText =
"array[index] = value";
  }
}

/* ================= Get ================= */

function getValue(){
  const index=parseInt(document.getElementById("indexInput").value);

  if(index>=0 && index<arr.length){
    renderArray();
    document.querySelectorAll(".cell")[index].classList.add("highlight");

    document.getElementById("explanation").innerText =
      "We accessed the value stored at index "+index+".";

    document.getElementById("pythonCode").innerText =
"print(array[index])";
  }
}

/* ================= Append ================= */

function appendValue(){
  const value=document.getElementById("valueInput").value;

  arr.push(value);
  renderArray();

  document.getElementById("explanation").innerText =
    "Append adds a new value to the end of the array.";

  document.getElementById("pythonCode").innerText =
"array.append(value)";
}

/* ================= Length ================= */

function getLength(){
  document.getElementById("explanation").innerText =
    "Length tells us how many elements are in the array.";

  document.getElementById("pythonCode").innerText =
"print(len(array))  # Length = "+arr.length;
}

/* ================= Traverse ================= */

function traverse(){

  renderArray();
  const cells=document.querySelectorAll(".cell");
  let i=0;

  document.getElementById("pythonCode").innerText =
"for i in range(len(array)):\n" +
"    print(array[i])";

  const interval=setInterval(()=>{

    cells.forEach(c=>c.classList.remove("highlight"));

    if(i<arr.length){
      cells[i].classList.add("highlight");
      document.getElementById("explanation").innerText =
        "Visiting index "+i;
      i++;
    } else {
      clearInterval(interval);
      document.getElementById("explanation").innerText =
        "Traversal complete.";
    }

  },800);
}

/* ================= Linear Search ================= */

function linearSearch(){

  const target=document.getElementById("valueInput").value;
  renderArray();

  const cells=document.querySelectorAll(".cell");
  let i=0;

  document.getElementById("pythonCode").innerText =
"for i in range(len(array)):\n" +
"    if array[i] == target:\n" +
"        print(\"Found at index\", i)";

  const interval=setInterval(()=>{

    cells.forEach(c=>{
      c.classList.remove("highlight");
      c.classList.remove("found");
    });

    if(i<arr.length){

      cells[i].classList.add("highlight");

      if(arr[i]===target){
        cells[i].classList.remove("highlight");
        cells[i].classList.add("found");

        document.getElementById("explanation").innerText =
          "Value found at index "+i;

        clearInterval(interval);
      }

      i++;

    } else {

      clearInterval(interval);
      document.getElementById("explanation").innerText =
        "Value not found in array.";
    }

  },800);
}

/* ================= Reset ================= */

function resetArray(){
  arr=["A","B","C","D","E"];
  renderArray();
  showInitialPython();
}

/* ================= Start Page ================= */

renderArray();
showInitialPython();

</script>

</body>
</html>